<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

</claude-mem-context>

# ultrawork-js

Node.js cross-platform version of ultrawork plugin.

## Key Differences from Bash Version

- Pure JavaScript with JSDoc type annotations (no TypeScript build step)
- No jq dependency - native JSON parsing
- No bash dependency - runs with Node.js
- Cross-platform file paths using path.join()
- Same stdin/stdout JSON contracts for hooks

## File Structure

- src/lib/types.js - JSDoc type definitions (@typedef)
- src/lib/file-lock.js - Cross-platform file locking
- src/lib/session-utils.js - Session management utilities
- src/scripts/*.js - CLI scripts (12 files)
- src/hooks/*.js - Lifecycle hooks (8 files)

## No Build Step Required

Scripts run directly from source. No compilation needed.

## Hook Configuration

**IMPORTANT**: hooks.json must use explicit `node` prefix for cross-platform compatibility.

```json
// WRONG - shebang doesn't work on Windows
"command": "${CLAUDE_PLUGIN_ROOT}/src/hooks/stop-hook.js"

// CORRECT - explicit node invocation
"command": "node ${CLAUDE_PLUGIN_ROOT}/src/hooks/stop-hook.js"
```

Hook paths: `src/hooks/*.js` (NOT `hooks/*.sh` like the bash version)
